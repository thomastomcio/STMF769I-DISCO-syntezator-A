/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/main_screen/MainViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>

MainViewBase::MainViewBase() :
    interaction1Counter(0),
    graphClickedCallback(this, &MainViewBase::graphClickedCallbackHandler)
{

    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));

    graphBackground.setPosition(0, 0, 800, 480);
    graphBackground.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    graphBackground.setBorderColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    graphBackground.setBorderSize(1);

    My_graph.setScale(1);
    My_graph.setGraphRangeX(0, 150);
    My_graph.setPosition(0, 0, 800, 480);
    My_graph.setGraphAreaMargin(10, 22, 19, 20);
    My_graph.setGraphAreaPadding(10, 6, -3, 6);
    My_graph.setGraphRangeY(0, 260);
    My_graph.setClickAction(graphClickedCallback);

    My_graphMajorYAxisGrid.setScale(1);
    My_graphMajorYAxisGrid.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    My_graphMajorYAxisGrid.setInterval(50);
    My_graphMajorYAxisGrid.setLineWidth(1);
    My_graph.addGraphElement(My_graphMajorYAxisGrid);

    My_graphMajorXAxisLabel.setScale(1);
    My_graphMajorXAxisLabel.setInterval(20);
    My_graphMajorXAxisLabel.setLabelTypedText(touchgfx::TypedText(T_SINGLEUSEID2));
    My_graphMajorXAxisLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    My_graph.addBottomElement(My_graphMajorXAxisLabel);

    My_graphMajorYAxisLabel.setScale(1);
    My_graphMajorYAxisLabel.setInterval(20);
    My_graphMajorYAxisLabel.setLabelTypedText(touchgfx::TypedText(T_SINGLEUSEID1));
    My_graphMajorYAxisLabel.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    My_graph.addLeftElement(My_graphMajorYAxisLabel);

    My_graphHistogram1.setScale(1);
    My_graphHistogram1.setColor(touchgfx::Color::getColorFrom24BitRGB(108, 255, 0));
    My_graphHistogram1.setBarWidth(1);
    My_graphHistogram1.setBaseline(0);
    My_graph.addGraphElement(My_graphHistogram1);

    My_graphBoxes1.setScale(1);
    My_graphBoxes1.setColor(touchgfx::Color::getColorFrom24BitRGB(197, 164, 20));
    My_graphBoxes1.setBoxWidth(5);
    My_graph.addGraphElement(My_graphBoxes1);

    txt_area.setPosition(0, 0, 800, 316);
    txt_area.setVisible(false);
    txt_area.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    txt_area.setLinespacing(20);
    Unicode::snprintf(txt_areaBuffer, TXT_AREA_SIZE, "%s", touchgfx::TypedText(T_SINGLEUSEID8).getText());
    txt_area.setWildcard(txt_areaBuffer);
    txt_area.setTypedText(touchgfx::TypedText(T_SINGLEUSEID7));

    txt_area2.setXY(16, 316);
    txt_area2.setVisible(false);
    txt_area2.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 0, 233));
    txt_area2.setLinespacing(0);
    txt_area2.setTypedText(touchgfx::TypedText(T_SINGLEUSEID5));

    add(__background);
    add(graphBackground);
    add(My_graph);
    add(txt_area);
    add(txt_area2);
}

void MainViewBase::setupScreen()
{

}

//Handles delays
void MainViewBase::handleTickEvent()
{
    if(interaction1Counter > 0)
    {
        interaction1Counter--;
        if(interaction1Counter == 0)
        {

        }
    }
}

void MainViewBase::graphClickedCallbackHandler(const touchgfx::AbstractDataGraph& src, const touchgfx::AbstractDataGraph::GraphClickEvent& value)
{
    if (&src == &My_graph)
    {
        //Interaction1
        //When My_graph clicked delay
        //Delay for 10000 ms (600 Ticks)
        interaction1Counter = INTERACTION1_DURATION;
    }
}
